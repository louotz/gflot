'use strict';(function(r){function u(){var a=document.createElement("div");return"undefined"!=typeof a.style.MozTransition||"undefined"!=typeof a.style.OTransition||"undefined"!=typeof a.style.webkitTransition||"undefined"!=typeof a.style.transition}function t(a,b,d,c,f){this.axisName=a;this.position=b;this.padding=d;this.plot=c;this.opts=f;this.height=this.width=0}function n(a,b,d,c,f){t.prototype.constructor.call(this,a,b,d,c,f)}function m(a,b,d,c,f){t.prototype.constructor.call(this,a,b,d,c,f)}
function h(a,b,d,c,f){m.prototype.constructor.call(this,a,b,d,c,f)}function p(a,b,d,c,f){h.prototype.constructor.call(this,a,b,d,c,f);this.requiresResize=!1}n.prototype=new t;n.prototype.constructor=n;n.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14);this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");"left"==this.position||"right"==this.position?(this.width=this.opts.axisLabelFontSizePixels+this.padding,this.height=
0):(this.width=0,this.height=this.opts.axisLabelFontSizePixels+this.padding)};n.prototype.draw=function(a){var b=this.plot.getCanvas().getContext("2d");b.save();b.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily;var d=b.measureText(this.opts.axisLabel).width,c=this.opts.axisLabelFontSizePixels,f=0;if("top"==this.position){var q=a.left+a.width/2-d/2;var g=a.top+.72*c}else"bottom"==this.position?(q=a.left+a.width/2-d/2,g=a.top+a.height-.72*c):"left"==this.position?(q=a.left+
.72*c,g=a.height/2+a.top+d/2,f=-Math.PI/2):"right"==this.position&&(q=a.left+a.width-.72*c,g=a.height/2+a.top-d/2,f=Math.PI/2);b.translate(q,g);b.rotate(f);b.fillText(this.opts.axisLabel,0,0);b.restore()};m.prototype=new t;m.prototype.constructor=m;m.prototype.calculateSize=function(){var a=r('\x3cdiv class\x3d"axisLabels" style\x3d"position:absolute;"\x3e'+this.opts.axisLabel+"\x3c/div\x3e");this.plot.getPlaceholder().append(a);this.labelWidth=a.outerWidth(!0);this.labelHeight=a.outerHeight(!0);
a.remove();this.width=this.height=0;"left"==this.position||"right"==this.position?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding};m.prototype.draw=function(a){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove();var b=r('\x3cdiv id\x3d"'+this.axisName+'Label" " class\x3d"axisLabels" style\x3d"position:absolute;"\x3e'+this.opts.axisLabel+"\x3c/div\x3e");this.plot.getPlaceholder().append(b);"top"==this.position?(b.css("left",a.left+a.width/2-this.labelWidth/
2+"px"),b.css("top",a.top+"px")):"bottom"==this.position?(b.css("left",a.left+a.width/2-this.labelWidth/2+"px"),b.css("top",a.top+a.height-this.labelHeight+"px")):"left"==this.position?(b.css("top",a.top+a.height/2-this.labelHeight/2+"px"),b.css("left",a.left+"px")):"right"==this.position&&(b.css("top",a.top+a.height/2-this.labelHeight/2+"px"),b.css("left",a.left+a.width-this.labelWidth+"px"))};h.prototype=new m;h.prototype.constructor=h;h.prototype.calculateSize=function(){m.prototype.calculateSize.call(this);
this.width=this.height=0;"left"==this.position||"right"==this.position?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding};h.prototype.transforms=function(a,b,d){var c={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!=b||0!=d)b=" translate("+b+"px, "+d+"px)",c["-moz-transform"]+=b,c["-webkit-transform"]+=b,c["-o-transform"]+=b,c["-ms-transform"]+=b;0!=a&&(a=" rotate("+a+"deg)",c["-moz-transform"]+=a,c["-webkit-transform"]+=a,c["-o-transform"]+=
a,c["-ms-transform"]+=a);a="top: 0; left: 0; ";for(var f in c)c[f]&&(a+=f+":"+c[f]+";");return a+";"};h.prototype.calculateOffsets=function(a){var b={x:0,y:0,degrees:0};"bottom"==this.position?(b.x=a.left+a.width/2-this.labelWidth/2,b.y=a.top+a.height-this.labelHeight):"top"==this.position?(b.x=a.left+a.width/2-this.labelWidth/2,b.y=a.top):"left"==this.position?(b.degrees=-90,b.x=a.left-this.labelWidth/2+this.labelHeight/2,b.y=a.height/2+a.top):"right"==this.position&&(b.degrees=90,b.x=a.left+a.width-
this.labelWidth/2-this.labelHeight/2,b.y=a.height/2+a.top);return b};h.prototype.draw=function(a){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();a=this.calculateOffsets(a);a=r('\x3cdiv class\x3d"axisLabels '+this.axisName+'Label" style\x3d"position:absolute; color: '+this.opts.color+"; "+this.transforms(a.degrees,a.x,a.y)+'"\x3e'+this.opts.axisLabel+"\x3c/div\x3e");this.plot.getPlaceholder().append(a)};p.prototype=new h;p.prototype.constructor=p;p.prototype.transforms=function(a,
b,d){var c="";if(0!=a){for(a/=90;0>a;)a+=4;c+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation\x3d"+a+"); ";this.requiresResize="right"==this.position}0!=b&&(c+="left: "+b+"px; ");0!=d&&(c+="top: "+d+"px; ");return c};p.prototype.calculateOffsets=function(a){var b=h.prototype.calculateOffsets.call(this,a);"top"==this.position?b.y=a.top+1:"left"==this.position?(b.x=a.left,b.y=a.height/2+a.top-this.labelWidth/2):"right"==this.position&&(b.x=a.left+a.width-this.labelHeight,b.y=a.height/
2+a.top-this.labelWidth/2);return b};p.prototype.draw=function(a){h.prototype.draw.call(this,a);this.requiresResize&&(a=this.plot.getPlaceholder().find("."+this.axisName+"Label"),a.css("width",this.labelWidth),a.css("height",this.labelHeight))};r.plot.plugins.push({init:function(a){var b=!1,d={};a.hooks.draw.push(function(c,f){var q=!1;b?r.each(c.getAxes(),function(g,k){var e=k.options||c.getOptions()[g];e&&e.axisLabel&&k.show&&d[g].draw(k.box)}):(r.each(c.getAxes(),function(g,k){var e=k.options||
c.getOptions()[g];if(e&&e.axisLabel&&k.show){q=!0;var l;if(e.axisLabelUseHtml||"Microsoft Internet Explorer"!=navigator.appName){if(!(l=e.axisLabelUseHtml)){if(l=!u())l=document.createElement("canvas").getContext?"function"==typeof document.createElement("canvas").getContext("2d").fillText:!1,l=!l;l=l&&!e.axisLabelUseCanvas}l=l?m:e.axisLabelUseCanvas||!u()?n:h}else null!=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&(rv=parseFloat(RegExp.$1)),l=9<=rv&&!e.axisLabelUseCanvas&&!e.axisLabelUseHtml?
h:e.axisLabelUseCanvas||e.axisLabelUseHtml?e.axisLabelUseCanvas?n:m:p;d[g]=new l(g,k.position,void 0===e.axisLabelPadding?2:e.axisLabelPadding,c,e);d[g].calculateSize();k.labelHeight+=d[g].height;k.labelWidth+=d[g].width;e.labelHeight=k.labelHeight;e.labelWidth=k.labelWidth}}),q&&(b=!0,c.setupGrid(),c.draw()))})},options:{},name:"axisLabels",version:"2.0b0"})})(jQuery);
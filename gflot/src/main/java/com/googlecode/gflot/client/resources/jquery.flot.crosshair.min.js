'use strict';(function(l){l.plot.plugins.push({init:function(c){function g(a){d.locked||-1==d.x||(d.x=-1,c.triggerRedrawOverlay())}function h(a){if(!d.locked)if(c.getSelection&&c.getSelection())d.x=-1;else{var b=c.offset();d.x=Math.max(0,Math.min(a.pageX-b.left,c.width()));d.y=Math.max(0,Math.min(a.pageY-b.top,c.height()));c.triggerRedrawOverlay()}}var d={x:-1,y:-1,locked:!1};c.setCrosshair=function(a){a?(a=c.p2c(a),d.x=Math.max(0,Math.min(a.left,c.width())),d.y=Math.max(0,Math.min(a.top,c.height()))):
d.x=-1;c.triggerRedrawOverlay()};c.clearCrosshair=c.setCrosshair;c.lockCrosshair=function(a){a&&c.setCrosshair(a);d.locked=!0};c.unlockCrosshair=function(){d.locked=!1};c.hooks.bindEvents.push(function(a,b){a.getOptions().crosshair.mode&&(b.mouseout(g),b.mousemove(h))});c.hooks.drawOverlay.push(function(a,b){var e=a.getOptions().crosshair;if(e.mode){var f=a.getPlotOffset();b.save();b.translate(f.left,f.top);if(-1!=d.x){f=a.getOptions().crosshair.lineWidth%2?.5:0;b.strokeStyle=e.color;b.lineWidth=
e.lineWidth;b.lineJoin="round";b.beginPath();if(-1!=e.mode.indexOf("x")){var k=Math.floor(d.x)+f;b.moveTo(k,0);b.lineTo(k,a.height())}-1!=e.mode.indexOf("y")&&(e=Math.floor(d.y)+f,b.moveTo(0,e),b.lineTo(a.width(),e));b.stroke()}b.restore()}});c.hooks.shutdown.push(function(a,b){b.unbind("mouseout",g);b.unbind("mousemove",h)})},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})})(jQuery);
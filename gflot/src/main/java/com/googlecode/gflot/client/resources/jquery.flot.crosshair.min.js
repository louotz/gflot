'use strict';(function(l){l.plot.plugins.push({init:function(d){function h(b){a.locked||-1===a.x||(a.x=-1,d.triggerRedrawOverlay())}function k(b){var c=d.offset();if(a.locked){var e=Math.max(0,Math.min(b.pageX-c.left,d.width()));b=Math.max(0,Math.min(b.pageY-c.top,d.height()));e>a.x-4&&e<a.x+4&&b>a.y-4&&b<a.y+4?a.highlighted||(a.highlighted=!0,d.triggerRedrawOverlay()):a.highlighted&&(a.highlighted=!1,d.triggerRedrawOverlay())}else d.getSelection&&d.getSelection()?a.x=-1:(a.x=Math.max(0,Math.min(b.pageX-
c.left,d.width())),a.y=Math.max(0,Math.min(b.pageY-c.top,d.height())),d.triggerRedrawOverlay())}var a={x:-1,y:-1,locked:!1,highlighted:!1};d.setCrosshair=function(b){b?(b=d.p2c(b),a.x=Math.max(0,Math.min(b.left,d.width())),a.y=Math.max(0,Math.min(b.top,d.height()))):a.x=-1;d.triggerRedrawOverlay()};d.clearCrosshair=d.setCrosshair;d.lockCrosshair=function(b){b&&d.setCrosshair(b);a.locked=!0};d.unlockCrosshair=function(){a.locked=!1;a.rect=null};d.hooks.bindEvents.push(function(b,c){b.getOptions().crosshair.mode&&
(c.mouseout(h),c.mousemove(k))});d.hooks.drawOverlay.push(function(b,c){var e=b.getOptions().crosshair;if(e.mode){var f=b.getPlotOffset();c.save();c.translate(f.left,f.top);if(-1!==a.x){f=b.getOptions().crosshair.lineWidth%2?.5:0;c.strokeStyle=e.color;c.lineWidth=e.lineWidth;c.lineJoin="round";c.beginPath();if(-1!==e.mode.indexOf("x")){var g=Math.floor(a.x)+f;c.moveTo(g,0);c.lineTo(g,b.height())}-1!==e.mode.indexOf("y")&&(g=Math.floor(a.y)+f,c.moveTo(0,g),c.lineTo(b.width(),g));a.locked&&(c.fillStyle=
a.highlighted?"orange":e.color,c.fillRect(Math.floor(a.x)+f-4,Math.floor(a.y)+f-4,8,8));c.stroke()}c.restore()}});d.hooks.shutdown.push(function(b,c){c.unbind("mouseout",h);c.unbind("mousemove",k)})},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})})(jQuery);
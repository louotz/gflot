'use strict';(function(B){function E(e,b,g,k){if(b.points.errorbars){e=[{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0}];g=b.points.errorbars;if("x"==g||"xy"==g)b.points.xerr.asymmetric&&e.push({x:!0,number:!0,required:!0}),e.push({x:!0,number:!0,required:!0});if("y"==g||"xy"==g)b.points.yerr.asymmetric&&e.push({y:!0,number:!0,required:!0}),e.push({y:!0,number:!0,required:!0});k.format=e}}function C(e,b,g,k,d,t,h,w,a,x,n){k+=x;d+=x;t+=x;"x"==b.err?(d>g+a?v(e,[[d,k],[Math.max(g+a,n[0]),k]]):
h=!1,t<g-a?v(e,[[Math.min(g-a,n[1]),k],[t,k]]):w=!1):(d<k-a?v(e,[[g,d],[g,Math.min(k-a,n[0])]]):h=!1,t>k+a?v(e,[[g,Math.max(k+a,n[1])],[g,t]]):w=!1);a=null!=b.radius?b.radius:a;h&&("-"==b.upperCap?"x"==b.err?v(e,[[d,k-a],[d,k+a]]):v(e,[[g-a,d],[g+a,d]]):B.isFunction(b.upperCap)&&("x"==b.err?b.upperCap(e,d,k,a):b.upperCap(e,g,d,a)));w&&("-"==b.lowerCap?"x"==b.err?v(e,[[t,k-a],[t,k+a]]):v(e,[[g-a,t],[g+a,t]]):B.isFunction(b.lowerCap)&&("x"==b.err?b.lowerCap(e,t,k,a):b.lowerCap(e,g,t,a)))}function v(e,
b){e.beginPath();e.moveTo(b[0][0],b[0][1]);for(var g=1;g<b.length;g++)e.lineTo(b[g][0],b[g][1]);e.stroke()}function F(e,b){var g=e.getPlotOffset();b.save();b.translate(g.left,g.top);B.each(e.getData(),function(k,d){if(d.points.errorbars&&(d.points.xerr.show||d.points.yerr.show)){k=d.datapoints.points;var t=d.datapoints.pointsize,h=[d.xaxis,d.yaxis],w=d.points.radius,a=[d.points.xerr,d.points.yerr],x=!1;if(h[0].p2c(h[0].max)<h[0].p2c(h[0].min)){x=!0;var n=a[0].lowerCap;a[0].lowerCap=a[0].upperCap;
a[0].upperCap=n}var D=!1;h[1].p2c(h[1].min)<h[1].p2c(h[1].max)&&(D=!0,n=a[1].lowerCap,a[1].lowerCap=a[1].upperCap,a[1].upperCap=n);for(var p=0;p<d.datapoints.points.length;p+=t){var c=d.datapoints.points,q=null,r=null,l=null,m=null;var y=d.points.xerr;var f=d.points.yerr,u=d.points.errorbars;"x"==u||"xy"==u?y.asymmetric?(q=c[p+2],r=c[p+3],"xy"==u&&(f.asymmetric?(l=c[p+4],m=c[p+5]):l=c[p+4])):(q=c[p+2],"xy"==u&&(f.asymmetric?(l=c[p+3],m=c[p+4]):l=c[p+3])):"y"==u&&(f.asymmetric?(l=c[p+2],m=c[p+3]):
l=c[p+2]);null==r&&(r=q);null==m&&(m=l);c=[q,r,l,m];y.show||(c[0]=null,c[1]=null);f.show||(c[2]=null,c[3]=null);y=c;for(f=0;f<a.length;f++)if(c=[h[f].min,h[f].max],y[f*a.length]&&(q=k[p],r=k[p+1],l=[q,r][f]+y[f*a.length+1],m=[q,r][f]-y[f*a.length],"x"!=a[f].err||!(r>h[1].max||r<h[1].min||l<h[0].min||m>h[0].max)))if("y"!=a[f].err||!(q>h[0].max||q<h[0].min||l<h[1].min||m>h[1].max)){var z=u=!0;l>c[1]&&(u=!1,l=c[1]);m<c[0]&&(z=!1,m=c[0]);if("x"==a[f].err&&x||"y"==a[f].err&&D)n=m,m=l,l=n,n=z,z=u,u=n,n=
c[0],c[0]=c[1],c[1]=n;q=h[0].p2c(q);r=h[1].p2c(r);l=h[f].p2c(l);m=h[f].p2c(m);c[0]=h[f].p2c(c[0]);c[1]=h[f].p2c(c[1]);n=a[f].lineWidth?a[f].lineWidth:d.points.lineWidth;var A=null!=d.points.shadowSize?d.points.shadowSize:d.shadowSize;0<n&&0<A&&(A/=2,b.lineWidth=A,b.strokeStyle="rgba(0,0,0,0.1)",C(b,a[f],q,r,l,m,u,z,w,A+A/2,c),b.strokeStyle="rgba(0,0,0,0.2)",C(b,a[f],q,r,l,m,u,z,w,A/2,c));b.strokeStyle=a[f].color?a[f].color:d.color;b.lineWidth=n;C(b,a[f],q,r,l,m,u,z,w,0,c)}}}});b.restore()}B.plot.plugins.push({init:function(e){e.hooks.processRawData.push(E);
e.hooks.draw.push(F)},options:{series:{points:{errorbars:null,xerr:{err:"x",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null},yerr:{err:"y",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null}}}},name:"errorbars",version:"1.0"})})(jQuery);
'use strict';(function(m){function q(b){var c=b.xPos,a=b.yPos,f=b.fillColor,d=b.strokeColor,e=b.strokeWidth;switch(b.name){case "circle":b='\x3cuse xlink:href\x3d"#circle" class\x3d"legendIcon" x\x3d"'+c+'" y\x3d"'+a+'" fill\x3d"'+f+'" stroke\x3d"'+d+'" stroke-width\x3d"'+e+'" width\x3d"1.5em" height\x3d"1.5em"/\x3e';break;case "diamond":b='\x3cuse xlink:href\x3d"#diamond" class\x3d"legendIcon" x\x3d"'+c+'" y\x3d"'+a+'" fill\x3d"'+f+'" stroke\x3d"'+d+'" stroke-width\x3d"'+e+'" width\x3d"1.5em" height\x3d"1.5em"/\x3e';
break;case "cross":b='\x3cuse xlink:href\x3d"#cross" class\x3d"legendIcon" x\x3d"'+c+'" y\x3d"'+a+'" stroke\x3d"'+d+'" stroke-width\x3d"'+e+'" width\x3d"1.5em" height\x3d"1.5em"/\x3e';break;case "rectangle":b='\x3cuse xlink:href\x3d"#rectangle" class\x3d"legendIcon" x\x3d"'+c+'" y\x3d"'+a+'" fill\x3d"'+f+'" stroke\x3d"'+d+'" stroke-width\x3d"'+e+'" width\x3d"1.5em" height\x3d"1.5em"/\x3e';break;case "plus":b='\x3cuse xlink:href\x3d"#plus" class\x3d"legendIcon" x\x3d"'+c+'" y\x3d"'+a+'" stroke\x3d"'+
d+'" stroke-width\x3d"'+e+'" width\x3d"1.5em" height\x3d"1.5em"/\x3e';break;case "bar":b='\x3cuse xlink:href\x3d"#bars" class\x3d"legendIcon" x\x3d"'+c+'" y\x3d"'+a+'" fill\x3d"'+f+'" width\x3d"1.5em" height\x3d"1.5em"/\x3e';break;case "area":b='\x3cuse xlink:href\x3d"#area" class\x3d"legendIcon" x\x3d"'+c+'" y\x3d"'+a+'" fill\x3d"'+f+'" width\x3d"1.5em" height\x3d"1.5em"/\x3e';break;case "line":b='\x3cuse xlink:href\x3d"#line" class\x3d"legendIcon" x\x3d"'+c+'" y\x3d"'+a+'" stroke\x3d"'+d+'" stroke-width\x3d"'+
e+'" width\x3d"1.5em" height\x3d"1.5em"/\x3e';break;default:b='\x3cuse xlink:href\x3d"#circle" class\x3d"legendIcon" x\x3d"'+c+'" y\x3d"'+a+'" fill\x3d"'+f+'" stroke\x3d"'+d+'" stroke-width\x3d"'+e+'" width\x3d"1.5em" height\x3d"1.5em"/\x3e'}return b}function w(b,c,a){b=b.map(function(d,e){return{label:(c?c(d.label,d):d.label)||"Plot "+(e+1),color:d.color,options:{lines:d.lines,points:d.points,bars:d.bars}}});if(a)if(m.isFunction(a))b.sort(a);else if("reverse"===a)b.reverse();else{var f="descending"!==
a;b.sort(function(d,e){return d.label===e.label?0:d.label<e.label!==f?1:-1})}return b}function r(b,c){for(var a in b)if(b.hasOwnProperty(a)&&b[a]!==c[a])return!0;return!1}function x(b,c){if(!b||!c||b.length!==c.length)return!0;var a;for(a=0;a<c.length;a++){var f=c[a];var d=b[a];if(f.label!==d.label||f.color!==d.color)return!0;var e=f.options.lines;var k=d.options.lines;if(r(e,k))return!0;e=f.options.points;k=d.options.points;if(r(e,k))return!0;e=f.options.bars;k=d.options.bars;if(r(e,k))return!0}return!1}
m.plot.plugins.push({init:function(b){b.hooks.setupGrid.push(function(c){var a=c.getOptions(),f=c.getData(),d=a.legend.legendEntries,e=a.legend.plotOffset;f=w(f,a.legend.labelFormatter,a.legend.sorted);var k=c.getPlotOffset();if(x(d,f)||r(e,k))if(d=c.getPlaceholder(),null!=a.legend.container?m(a.legend.container).html(""):d.find(".legend").remove(),a.legend.show){e=a.legend.legendEntries=f;k=a.legend.plotOffset=c.getPlotOffset();c=[];var t=0,n=0;f="";var u=a.legend.position,l=a.legend.margin,g={name:"",
label:"",xPos:"",yPos:""};c[n++]='\x3csvg class\x3d"legendLayer" style\x3d"width:inherit;height:inherit;"\x3e';c[n++]='\x3crect class\x3d"background" width\x3d"100%" height\x3d"100%"/\x3e';c[n++]='\x3cdefs\x3e\x3csymbol id\x3d"line" fill\x3d"none" viewBox\x3d"-5 -5 25 25"\x3e\x3cpolyline points\x3d"0,15 5,5 10,10 15,0"/\x3e\x3c/symbol\x3e\x3csymbol id\x3d"area" stroke-width\x3d"1" viewBox\x3d"-5 -5 25 25"\x3e\x3cpolyline points\x3d"0,15 5,5 10,10 15,0, 15,15, 0,15"/\x3e\x3c/symbol\x3e\x3csymbol id\x3d"bars" stroke-width\x3d"1" viewBox\x3d"-5 -5 25 25"\x3e\x3cpolyline points\x3d"1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5"/\x3e\x3c/symbol\x3e\x3csymbol id\x3d"circle" viewBox\x3d"-5 -5 25 25"\x3e\x3ccircle cx\x3d"0" cy\x3d"15" r\x3d"2.5"/\x3e\x3ccircle cx\x3d"5" cy\x3d"5" r\x3d"2.5"/\x3e\x3ccircle cx\x3d"10" cy\x3d"10" r\x3d"2.5"/\x3e\x3ccircle cx\x3d"15" cy\x3d"0" r\x3d"2.5"/\x3e\x3c/symbol\x3e\x3csymbol id\x3d"rectangle" viewBox\x3d"-5 -5 25 25"\x3e\x3crect x\x3d"-2.1" y\x3d"12.9" width\x3d"4.2" height\x3d"4.2"/\x3e\x3crect x\x3d"2.9" y\x3d"2.9" width\x3d"4.2" height\x3d"4.2"/\x3e\x3crect x\x3d"7.9" y\x3d"7.9" width\x3d"4.2" height\x3d"4.2"/\x3e\x3crect x\x3d"12.9" y\x3d"-2.1" width\x3d"4.2" height\x3d"4.2"/\x3e\x3c/symbol\x3e\x3csymbol id\x3d"diamond" viewBox\x3d"-5 -5 25 25"\x3e\x3cpath d\x3d"M-3,15 L0,12 L3,15, L0,18 Z"/\x3e\x3cpath d\x3d"M2,5 L5,2 L8,5, L5,8 Z"/\x3e\x3cpath d\x3d"M7,10 L10,7 L13,10, L10,13 Z"/\x3e\x3cpath d\x3d"M12,0 L15,-3 L18,0, L15,3 Z"/\x3e\x3c/symbol\x3e\x3csymbol id\x3d"cross" fill\x3d"none" viewBox\x3d"-5 -5 25 25"\x3e\x3cpath d\x3d"M-2.1,12.9 L2.1,17.1, M2.1,12.9 L-2.1,17.1 Z"/\x3e\x3cpath d\x3d"M2.9,2.9 L7.1,7.1 M7.1,2.9 L2.9,7.1 Z"/\x3e\x3cpath d\x3d"M7.9,7.9 L12.1,12.1 M12.1,7.9 L7.9,12.1 Z"/\x3e\x3cpath d\x3d"M12.9,-2.1 L17.1,2.1 M17.1,-2.1 L12.9,2.1 Z"/\x3e\x3c/symbol\x3e\x3csymbol id\x3d"plus" fill\x3d"none" viewBox\x3d"-5 -5 25 25"\x3e\x3cpath d\x3d"M0,12 L0,18, M-3,15 L3,15 Z"/\x3e\x3cpath d\x3d"M5,2 L5,8 M2,5 L8,5 Z"/\x3e\x3cpath d\x3d"M10,7 L10,13 M7,10 L13,10 Z"/\x3e\x3cpath d\x3d"M15,-3 L15,3 M12,0 L18,0 Z"/\x3e\x3c/symbol\x3e\x3c/defs\x3e';
for(var v=0;v<e.length;++v){var h=e[v];var p="";g.label=h.label;g.xPos="0em";g.yPos=1.5*v+"em";h.options.lines.show&&h.options.lines.fill&&(g.name="area",g.fillColor=h.color,p+=q(g));h.options.bars.show&&(g.name="bar",g.fillColor=h.color,p+=q(g));h.options.lines.show&&!h.options.lines.fill&&(g.name="line",g.strokeColor=h.color,g.strokeWidth=h.options.lines.lineWidth,p+=q(g));h.options.points.show&&(g.name=h.options.points.symbol,g.strokeColor=h.color,g.fillColor=h.options.points.fillColor,g.strokeWidth=
h.options.points.lineWidth,p+=q(g));t=t<g.label.length?g.label.length:t;h='\x3ctext x\x3d"'+g.xPos+'" y\x3d"'+g.yPos+'" text-anchor\x3d"start"\x3e\x3ctspan dx\x3d"2em" dy\x3d"1.2em"\x3e'+g.label+"\x3c/tspan\x3e\x3c/text\x3e";c[n++]="\x3cg\x3e"+p+h+"\x3c/g\x3e"}c[n++]="\x3c/svg\x3e";null==l[0]&&(l=[l,l]);"n"===u.charAt(0)?f+="top:"+(l[1]+k.top)+"px;":"s"===u.charAt(0)&&(f+="bottom:"+(l[1]+k.bottom)+"px;");"e"===u.charAt(1)?f+="right:"+(l[0]+k.right)+"px;":"w"===u.charAt(1)&&(f+="left:"+(l[0]+k.left)+
"px;");k=3+t/2;e=1.6*e.length;a.legend.container?(m(c.join("")).appendTo(a.legend.container),a.legend.container.style.width=k+"em",a.legend.container.style.height=e+"em"):(a=m('\x3cdiv class\x3d"legend" style\x3d"position:absolute;'+f+'"\x3e'+c.join("")+"\x3c/div\x3e").appendTo(d),a.css("width",k+"em"),a.css("height",e+"em"),a.css("pointerEvents","none"))}})},options:{legend:{show:!1,labelFormatter:null,container:null,position:"ne",margin:5,sorted:null}},name:"legend",version:"1.0"})})(jQuery);
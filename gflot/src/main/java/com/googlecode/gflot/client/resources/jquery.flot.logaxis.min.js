'use strict';(function(h){function t(a,b){a=Math.floor(Math.log(a)*Math.LOG10E)-1;for(var d,c,f=[],e=-a;e<=a;e++){c=Math.pow(10,e);for(var g=1;9>g;g+=b)d=c*g,f.push(d)}return f}function B(a,b){"log"===b.options.mode&&0>=b.datamin&&(b.datamin=null===b.datamin?.1:u(a,b))}function u(a,b){var d=a.getData().filter(function(c){return c.xaxis===b||c.yaxis===b}).map(function(c){return a.computeRangeForDataSeries(c,null,C)});d="x"===b.direction?Math.min(.1,d[0].xmin):Math.min(.1,d[0].ymin);return b.min=d}
function C(a){return 0<a}var k=t(Number.MAX_VALUE,10),v=t(Number.MAX_VALUE,4),w=function(a,b,d){var c=[],f=-1,e=-1,g=a.getCanvas(),p=k,l=D(b,a),m=b.max;d||(d=.3*Math.sqrt("x"===b.direction?g.width:g.height));k.some(function(q,r){return q>=l?(f=r,!0):!1});k.some(function(q,r){return q>=m?(e=r,!0):!1});-1===e&&(e=k.length-1);e-f<=d/4&&p.length!==v.length&&(p=v,f*=2,e*=2);b=null;g=1/d;if(e-f>=d/4){for(d=e;d>=f;d--){var n=p[d];a=(Math.log(n)-Math.log(l))/(Math.log(m)-Math.log(l));null===b?b={pixelCoord:a,
idealPixelCoord:a}:Math.abs(a-b.pixelCoord)>=g?b={pixelCoord:a,idealPixelCoord:b.idealPixelCoord-g}:n=null;n&&c.push(n)}c.reverse()}else c=a.computeTickSize(l,m,d),c=h.plot.linearTickGenerator({min:l,max:m,tickSize:c});return c},D=function(a,b){var d=a.min,c=a.max;0>=d&&(d=null===a.datamin?a.min=.1:u(b,a),c<d&&(a.max=null!==a.datamax?a.datamax:a.options.max,a.options.offset.below=0,a.options.offset.above=0));return d},x=function(a,b,d){var c=0<a?Math.floor(Math.log(a)/Math.LN10):0;if(d)return-4<=
c&&7>=c?h.plot.defaultTickFormatter(a,b,d):h.plot.expRepTickFormatter(a,b,d);if(-4<=c&&7>=c){a=0>c?a.toFixed(-c):a.toFixed(c+2);if(-1!==a.indexOf(".")){for(b=a.lastIndexOf("0");b===a.length-1;)a=a.slice(0,-1),b=a.lastIndexOf("0");a.indexOf(".")===a.length-1&&(a=a.slice(0,-1))}return a}return h.plot.expRepTickFormatter(a,b)},y=function(a){a<k[0]&&(a=k[0]);return Math.log(a)},z=function(a){return Math.exp(a)},A=function(a){return-a},E=function(a){return-y(a)},F=function(a){return z(-a)};h.plot.plugins.push({init:function(a){a.hooks.processOptions.push(function(b){h.each(b.getAxes(),
function(d,c){d=c.options;"log"===d.mode?(c.tickGenerator=function(f){return w(b,f,11)},"function"!==typeof c.options.tickFormatter&&(c.options.tickFormatter=x),c.options.transform=d.inverted?E:y,c.options.inverseTransform=d.inverted?F:z,c.options.autoScaleMargin=0,b.hooks.setRange.push(B)):d.inverted&&(c.options.transform=A,c.options.inverseTransform=A)})})},options:{xaxis:{}},name:"log",version:"0.1"});h.plot.logTicksGenerator=w;h.plot.logTickFormatter=x})(jQuery);
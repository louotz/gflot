'use strict';(function(x){x.plot.plugins.push({init:function(y){function r(a,c){for(var g=[],e=0;e<a.length;e++)g[0]=a[e].data[0][c],g[1]=a[e].data[a[e].data.length-1][c];return g}function n(a,c){a=a.bars.barWidth?a.bars.barWidth:1;c=c.bars.barWidth?c.bars.barWidth:1;return a<c?-1:a>c?1:0}function p(a,c,g){g=a.slice((g||c)+1||a.length);a.length=0>c?a.length+c:c;a.push.apply(a,g);return a}function t(a,c,g){for(var e=0;c<=g;c++)e+=a[c].bars.barWidth+2*q;return e}var k,l,u=[],h=[],v,q,w=1,m=!1;y.hooks.processDatapoints.push(function(a,
c,g){var e=null;if(null!=c.bars&&c.bars.show&&null!=c.bars.order){c.bars.horizontal&&(m=!0);var f=m?a.getPlaceholder().innerHeight():a.getPlaceholder().innerWidth(),b=m?r(a.getData(),1):r(a.getData(),0);w=(b[1]-b[0])/f;f=a.getData();a=[];for(b=0;b<f.length;b++)null!=f[b].bars.order&&f[b].bars.show&&a.push(f[b]);f=a.length;do{for(b=0;b<f-1;b++)if(a[b].bars.order>a[b+1].bars.order){var d=a[b];a[b]=a[b+1];a[b+1]=d}else a[b].bars.order==a[b+1].bars.order&&(a[b].sameSeriesArrayIndex?void 0!==a[b+1].sameSeriesArrayIndex&&
(d=a[b].sameSeriesArrayIndex,a[b+1].sameSeriesArrayIndex=d,h[d].push(a[b+1]),h[d].sort(n),a[b]=h[d][0],p(a,b+1)):a[b+1].sameSeriesArrayIndex?void 0!==a[b].sameSeriesArrayIndex&&(d=a[b+1].sameSeriesArrayIndex,a[b].sameSeriesArrayIndex=d,h[d].push(a[b]),h[d].sort(n),a[b]=h[d][0],p(a,b+1)):(d=h.length,h[d]=[],a[b].sameSeriesArrayIndex=d,a[b+1].sameSeriesArrayIndex=d,h[d].push(a[b]),h[d].push(a[b+1]),h[d].sort(n),a[b]=h[d][0],p(a,b+1)),b--,f--);--f}while(1<f);for(b=0;b<a.length;b++)a[b].sameSeriesArrayIndex&&
(u[a[b].sameSeriesArrayIndex]=b);k=a;l=k.length;v=c.bars.lineWidth?c.bars.lineWidth:2;q=v*w;if(2<=l){e=0;if(c.sameSeriesArrayIndex)e=u[c.sameSeriesArrayIndex];else for(a=0;a<k.length;++a)if(c==k[a]){e=a;break}e+=1;a=0;0!=l%2&&(a=k[Math.ceil(l/2)].bars.barWidth/2);e=e<=Math.ceil(l/2)?-1*t(k,e-1,Math.floor(l/2)-1)-a:t(k,Math.ceil(l/2),e-2)+a+2*q;a=g.pointsize;f=g.points;b=0;for(d=m?1:0;d<f.length;d+=a)f[d]+=e,c.data[b][3]=f[d],b++;e=f;g.points=e}}return e})},options:{series:{bars:{order:null}}},name:"orderBars",
version:"0.2"})})(jQuery);
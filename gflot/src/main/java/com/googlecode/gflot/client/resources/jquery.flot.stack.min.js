'use strict';(function(x){x.plot.plugins.push({init:function(y){y.hooks.processDatapoints.push(function(b,m,q){if(null!=m.stack&&!1!==m.stack){var h;b=b.getData();for(var f=null,g=0;g<b.length&&m!=b[g];++g)b[g].stack==m.stack&&(f=b[g]);if(h=f){b=q.pointsize;f=q.points;g=h.datapoints.pointsize;h=h.datapoints.points;var c=[],a,r=m.lines.show;var l=m.bars.horizontal;var z=2<b&&(l?q.format[2].x:q.format[2].y);m=r&&m.lines.steps;var t=!0;for(var w=l?1:0,n=l?0:1,e=0,k=0,d;!(e>=f.length);){d=c.length;if(null==
f[e]){for(a=0;a<b;++a)c.push(f[e+a]);e+=b}else if(k>=h.length){if(!r)for(a=0;a<b;++a)c.push(f[e+a]);e+=b}else if(null==h[k]){for(a=0;a<b;++a)c.push(null);t=!0;k+=g}else{var u=f[e+w];a=f[e+n];l=h[k+w];var p=h[k+n];var v=0;if(u==l){for(a=0;a<b;++a)c.push(f[e+a]);c[d+n]+=p;v=p;e+=b;k+=g}else if(u>l){if(r&&0<e&&null!=f[e-b]){t=a+(f[e-b+n]-a)*(l-u)/(f[e-b+w]-u);c.push(l);c.push(t+p);for(a=2;a<b;++a)c.push(f[e+a]);v=p}k+=g}else{if(t&&r){e+=b;continue}for(a=0;a<b;++a)c.push(f[e+a]);r&&0<k&&null!=h[k-g]&&
(v=p+(h[k-g+n]-p)*(u-l)/(h[k-g+w]-l));c[d+n]+=v;e+=b}t=!1;d!=c.length&&z&&(c[d+2]+=v)}if(m&&d!=c.length&&0<d&&null!=c[d]&&c[d]!=c[d-b]&&c[d+1]!=c[d-b+1]){for(a=0;a<b;++a)c[d+b+a]=c[d+a];c[d+1]=c[d-b+1]}}q.points=c}}})},options:{series:{stack:null}},name:"stack",version:"1.2"})})(jQuery);
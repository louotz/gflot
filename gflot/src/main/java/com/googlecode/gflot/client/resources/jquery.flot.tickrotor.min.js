'use strict';(function(q){q.plot.plugins.push({init:function(u){var c=[],p,r=!1,h,n,f;u.hooks.draw.push(function(d,b){if(r){if(0!=c.length){var g=d.getAxes().xaxis;var k=g.box;for(e=0;e<c.length;e++)if(a=c[e],a.label){b.save();b.font=p;if(90>=h){var l=-Math.ceil(Math.cos(f)*a.height);var m=Math.ceil(Math.sin(f)*a.height);b.translate(Math.round(d.getPlotOffset().left+g.p2c(a.v))+l,k.top+k.padding+d.getOptions().grid.labelMargin+m);b.rotate(n)}else l=Math.ceil(Math.cos(f)*a.height)-Math.ceil(Math.cos(f)*
a.width),m=Math.ceil(Math.sin(f)*a.width)+Math.ceil(Math.sin(f)*a.height),b.translate(Math.round(d.getPlotOffset().left+g.p2c(a.v)+l),k.top+k.padding+d.getOptions().grid.labelMargin+m),b.rotate(-f);b.fillText(a.label,0,0);b.restore()}}}else if(b=d.getAxes().xaxis.options,void 0!==b.rotateTicks&&(h=parseInt(b.rotateTicks,10),!(h.toString()!=b.rotateTicks||0==h||180<=h))){n=h*Math.PI/180;f=90<h?Math.PI-n:Math.PI/2-n;(p=b.rotateTicksFont)||(p=q(".tickLabel").css("font"));p||(p="smaller sans-serif");
var t=m=l=k=0;g=d.getAxes().xaxis;c=d.getAxes().xaxis.ticks;g.rotatedTicks=c;b.ticks=[];for(var e=0;e<c.length;e++){a=q('\x3cspan style\x3d"font:'+p+'"\x3e'+c[e].label+"\x3c/span\x3e");d.getPlaceholder().append(a);c[e].height=a.outerHeight(!0);c[e].width=a.outerWidth(!0);a.remove();c[e].height>l&&(l=c[e].height);c[e].width>k&&(k=c[e].width);var a=c[e];90<h?(a=Math.round(d.getPlotOffset().left+g.p2c(a.v))-Math.ceil(Math.cos(f)*a.height)-Math.ceil(Math.cos(f)*a.width),a<m&&(m=a)):(a=Math.round(d.getPlotOffset().left+
g.p2c(a.v))+Math.ceil(Math.cos(f)*a.height)+Math.ceil(Math.cos(f)*a.width),a>t&&(t=a))}90<h?(g=n-Math.PI/2,b.labelHeight=Math.ceil(Math.sin(g)*k)+Math.ceil(Math.sin(g)*l)):(g=Math.PI/2-n,b.labelHeight=Math.ceil(Math.sin(n)*k)+Math.ceil(Math.sin(g)*l));0>m&&(d.getAxes().yaxis.options.labelWidth=-1*m);r=!0;d.setupGrid();d.draw()}})},options:{},name:"tickRotor",version:"1.0"})})(jQuery);
'use strict';(function(u){function r(e,l){return l*Math.floor(e/l)}function v(e,l,n,p){if("function"==typeof e.strftime)return e.strftime(l);var k=function(t,q){t=""+t;return 1==t.length?""+(null==q?"0":q)+t:t},f=[],m=!1,g=e.getHours(),b=12>g;null==n&&(n="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==p&&(p="Sun Mon Tue Wed Thu Fri Sat".split(" "));var d=12<g?g-12:0==g?12:g;for(var c=0;c<l.length;++c){var a=l.charAt(c);if(m){switch(a){case "a":a=""+p[e.getDay()];break;case "b":a=
""+n[e.getMonth()];break;case "d":a=k(e.getDate());break;case "e":a=k(e.getDate()," ");break;case "h":case "H":a=k(g);break;case "I":a=k(d);break;case "l":a=k(d," ");break;case "m":a=k(e.getMonth()+1);break;case "M":a=k(e.getMinutes());break;case "q":a=""+(Math.floor(e.getMonth()/3)+1);break;case "S":a=k(e.getSeconds());break;case "y":a=k(e.getFullYear()%100);break;case "Y":a=""+e.getFullYear();break;case "p":a=b?"am":"pm";break;case "P":a=b?"AM":"PM";break;case "w":a=""+e.getDay()}f.push(a);m=!1}else"%"==
a?m=!0:f.push(a)}return f.join("")}function y(e){function l(f,m,g,b){f[m]=function(){return g[b].apply(g,arguments)}}var n={date:e};void 0!=e.strftime&&l(n,"strftime",e,"strftime");l(n,"getTime",e,"getTime");l(n,"setTime",e,"setTime");for(var p="Date Day FullYear Hours Milliseconds Minutes Month Seconds".split(" "),k=0;k<p.length;k++)l(n,"get"+p[k],e,"getUTC"+p[k]),l(n,"set"+p[k],e,"setUTC"+p[k]);return n}function w(e,l){if("browser"==l.timezone)return new Date(e);if(l.timezone&&"utc"!=l.timezone&&
"undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var n=new timezoneJS.Date;n.setTimezone(l.timezone);n.setTime(e);return n}return y(new Date(e))}var h={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,quarter:7776E6,year:525949.2*6E4},x=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,
"month"],[1,"month"],[2,"month"]],z=x.concat([[3,"month"],[6,"month"],[1,"year"]]),A=x.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);u.plot.plugins.push({init:function(e){e.hooks.processOptions.push(function(l,n){u.each(l.getAxes(),function(p,k){var f=k.options;"time"==f.mode&&(k.tickGenerator=function(m){var g=[],b=w(m.min,f),d=0,c=f.tickSize&&"quarter"===f.tickSize[1]||f.minTickSize&&"quarter"===f.minTickSize[1]?A:z;null!=f.minTickSize&&(d="number"==typeof f.tickSize?f.tickSize:f.minTickSize[0]*
h[f.minTickSize[1]]);for(var a=0;a<c.length-1&&!(m.delta<(c[a][0]*h[c[a][1]]+c[a+1][0]*h[c[a+1][1]])/2&&c[a][0]*h[c[a][1]]>=d);++a);d=c[a][0];c=c[a][1];"year"==c&&(null!=f.minTickSize&&"year"==f.minTickSize[1]?d=Math.floor(f.minTickSize[0]):(a=Math.pow(10,Math.floor(Math.log(m.delta/h.year)/Math.LN10)),d=m.delta/h.year/a,d=(1.5>d?1:3>d?2:7.5>d?5:10)*a),1>d&&(d=1));m.tickSize=f.tickSize||[d,c];a=m.tickSize[0];c=m.tickSize[1];d=a*h[c];"second"==c?b.setSeconds(r(b.getSeconds(),a)):"minute"==c?b.setMinutes(r(b.getMinutes(),
a)):"hour"==c?b.setHours(r(b.getHours(),a)):"month"==c?b.setMonth(r(b.getMonth(),a)):"quarter"==c?b.setMonth(3*r(b.getMonth()/3,a)):"year"==c&&b.setFullYear(r(b.getFullYear(),a));b.setMilliseconds(0);d>=h.minute&&b.setSeconds(0);d>=h.hour&&b.setMinutes(0);d>=h.day&&b.setHours(0);d>=4*h.day&&b.setDate(1);d>=2*h.month&&b.setMonth(r(b.getMonth(),3));d>=2*h.quarter&&b.setMonth(r(b.getMonth(),6));d>=h.year&&b.setMonth(0);var t=0,q=Number.NaN;do{var B=q;q=b.getTime();g.push(q);if("month"==c||"quarter"==
c)if(1>a){b.setDate(1);var C=b.getTime();b.setMonth(b.getMonth()+("quarter"==c?3:1));var D=b.getTime();b.setTime(q+t*h.hour+(D-C)*a);t=b.getHours();b.setHours(0)}else b.setMonth(b.getMonth()+a*("quarter"==c?3:1));else"year"==c?b.setFullYear(b.getFullYear()+a):b.setTime(q+d)}while(q<m.max&&q!=B);return g},k.tickFormatter=function(m,g){m=w(m,g.options);if(null!=f.timeformat)return v(m,f.timeformat,f.monthNames,f.dayNames);var b=g.options.tickSize&&"quarter"==g.options.tickSize[1]||g.options.minTickSize&&
"quarter"==g.options.minTickSize[1],d=g.tickSize[0]*h[g.tickSize[1]];g=g.max-g.min;var c=f.twelveHourClock?" %p":"",a=f.twelveHourClock?"%I":"%H";return v(m,d<h.minute?a+":%M:%S"+c:d<h.day?g<2*h.day?a+":%M"+c:"%b %d "+a+":%M"+c:d<h.month?"%b %d":b&&d<h.quarter||!b&&d<h.year?g<h.year?"%b":"%b %Y":b&&d<h.year?g<h.year?"Q%q":"Q%q %Y":"%Y",f.monthNames,f.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});u.plot.formatDate=v;
u.plot.dateGenerator=w})(jQuery);